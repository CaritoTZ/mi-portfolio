{% extends './layout.html' %}

{% block title %} Proyectos {% endblock %}

{% block body %}
    <div class="container mt-5">
        <h2 class="text-center">My Projects</h2>
        <div class="row">
            {% for project in projects %}
            <div class="col-md-6">
                <div class="card mb-4">
                    <img src="{{ url_for('static', filename='img/fondo.jpg') }}" class="card-img-top" alt="{{ project.title }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ project.title }}</h5>
                        <p class="card-text">{{ project.description }}</p>
                    <!-- Miniaturas específicas para cada proyecto -->
                    <div class="d-flex justify-content-center">
                        {% for image in project.images %}
                        <img src="{{ url_for('static', filename=image) }}" class="thumbnail" onclick="openModal(this.src)">
                        {% endfor %}
                    </div>
                        <h6>Ver más en...</h6>
                        <a href="{{ project.link }}" class="btn btn-primary" target="_blank">View Project</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>     
    <!-- Modal -->
<div id="imageModal" class="modal">
    <span class="close" onclick="closeModal()">&times;</span>
    <img id="modalImage" class="modal-content">
</div>

<!-- JavaScript -->
<script>
    function openModal(src) {
        document.getElementById("modalImage").src = src;
        document.getElementById("imageModal").style.display = "flex";
    }

    function closeModal() {
        document.getElementById("imageModal").style.display = "none";
    }
</script>
{% endblock %}